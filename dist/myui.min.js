/* 
 * name : seajsdemo 
 * version : 0.0.1 
 * author : tom  2013-08-05 17:16:29 
 */
define("dialog/js/dialog",["../lib/jquery-1.10.1.min.js","../lib/util.js"],function(a,b,c){var d=a("../lib/jquery-1.10.1.min.js"),e=a("../lib/util.js"),f=window,g=f.document,h=function(a){if(!(this instanceof h))return new h(a);this.options=d.extend({element:"",width:"",height:"",contentElement:"",contentLink:"",masked:!0},a);var b=g.createElement("div"),c=g.createElement("div");if(b.className="myui-dialog-mask",c.className="myui-dialog-wraper",c.innerHTML='<div class="myui-dialog"><div class="myui-dialog-con"><i class="myui-dialog-close myui-icon-close myui-dis-ib"></i></div></div>',this.dialogMaskClone=b.cloneNode(!0),this.dialogWraperClone=c.cloneNode(!0),""!==this.options.contentElement&&""===this.options.contentLink)this.staticPopup.call(this);else{if(""!==this.options.contentElement||""===this.options.contentLink)return;this.remotePopup.call(this)}};h.prototype.staticPopup=function(){var a=g.getElementById(this.options.contentElement),b=g.getElementById(this.options.contentElement).cloneNode(!0),c=d(a).width(),e=d(a).height(),f=(g.documentElement.clientWidth-c-20)/2,h=(g.documentElement.clientHeight-e-20)/2;this._dialogMaskClone=this.dialogMaskClone,this._dialogWraperClone=this.dialogWraperClone,this._dialogWraperClone.style.left=f+"px",this._dialogWraperClone.style.top=h+"px",this._dialogWraperClone.firstChild.firstChild.appendChild(b),this._dialogMaskClone.style.height=g.body.clientHeight+"px",""==b.style.display&&(b.style.display="block"),this.bindEvent.call(this)},h.prototype.remotePopup=function(){var a=this;this._dialogMaskClone=this.dialogMaskClone,this._dialogWraperClone=this.dialogWraperClone,iframeDom=g.createElement("iframe"),iframeDom.setAttribute("src",this.options.contentLink),iframeDom.setAttribute("frameborder","0"),iframeDom.setAttribute("marginheight","0px"),iframeDom.setAttribute("marginwidth","0px"),iframeDom.setAttribute("noresize","yes"),iframeDom.setAttribute("scrolling","no"),iframeDom.style.marginBottom="-3px",iframeDom.style.border="0",this._dialogWraperClone.firstChild.firstChild.appendChild(iframeDom),e.iframeReady(iframeDom,function(){var b=iframeDom.contentDocument||iframeDom.contentWindow.document,c=b.body.clientWidth,d=b.body.clientHeight,e=(g.documentElement.clientWidth-c-10)/2,f=(g.documentElement.clientHeight-d-10)/2;c>300?iframeDom.setAttribute("width",c):iframeDom.setAttribute("width",c),iframeDom.setAttribute("height",d),a._dialogWraperClone.style.left=e+"px",a._dialogWraperClone.style.top=f+"px"}),a._dialogMaskClone.style.height=g.body.clientHeight+"px",this.bindEvent.call(this)},h.prototype.bindEvent=function(){var a=this;this._dialogWraperClone.firstChild.firstChild.onclick=function(){a.closeDialog.call(a)},this.options.masked&&(this._dialogMaskClone.onclick=function(){a.closeDialog.call(a)}),g.body.appendChild(this._dialogMaskClone),g.body.appendChild(this._dialogWraperClone)},h.prototype.closeDialog=function(){g.body.removeChild(this.dialogWraperClone),g.body.removeChild(this._dialogMaskClone)},c.exports=h}),define("grid/js/grid",["../lib/jquery-1.10.1.min.js"],function(a,b){var c=a("../lib/jquery-1.10.1.min.js"),d=function(a){return this instanceof d?(this.options=c.extend({element:"",datasource:""},a),this.init.call(this),void 0):new d(a)};d.prototype.init=function(){for(var a=['<table  class="myui-grid"><thead><tr>',"</tr></thead><tbody></tbody></table>"],b=new Array,c=0;c<this.options.fileds.length;c++)b.push("<td>"+this.options.fileds[c].label+"</td>");a.splice(1,0,b.join("")),this.element=document.getElementById(this.options.element),this.gridwrap=document.createElement("div"),this.gridwrap.className="myui-grid-wraper",this.gridwrap.innerHTML=a.join(""),this.header=this.gridwrap.firstChild.tHead,this.tbody=this.gridwrap.firstChild.tBodies[0],this.pagesize=this.options.pagesize,this.element.appendChild(this.gridwrap),this.loadData.call(this),this.pagerEventlistener.call(this)},d.prototype.loadData=function(a){var b=this;this._tbodyFlag=document.createDocumentFragment(),void 0!==a&&a.currpagenum||(a={currpagenum:1}),this.getData(a,function(a){for(var c=0;c<a.data.length;c++){var d=document.createElement("tr");for(var e in a.data[c])_td=document.createElement("td"),_text=document.createTextNode(a.data[c][e]),_td.appendChild(_text),d.appendChild(_td);b._tbodyFlag.appendChild(d)}b.tbody.innerHTML="";var f=b.gridwrap.lastChild;f&&"myui-grid-bottompanel"===f.className&&b.gridwrap.removeChild(f),b.tbody.appendChild(b._tbodyFlag),b._tbodyFlag=null,b.gridwrap.appendChild(b.pagelistfit.apply(b,[a.total,a.pagesize,a.currpagenum]))})},d.prototype.getData=function(a,b){var d=this;c.ajax({url:d.options.datasource,type:"GET",data:{currpagenum:a.currpagenum,pagesize:d.pagesize},beforeSend:function(){d.beforeRemote()},error:function(a){console.log(a)},success:function(a){setTimeout(function(){d.afterRemote(),b(a)},1e3)},dataType:"json"})},d.prototype.beforeRemote=function(){var a=this;if(window.innerWidth<480?a.gridwrap.clientHeight=a.header.clientHeight:this.tbody.clientHeight<60?this.gridwrap.style.height="100px":"",this.beforeRemoteWraper)this.beforeRemoteWraper.style.display="block";else{var b=document.createElement("div"),c=document.createElement("div");b.appendChild(c),b.className="myui-grid-befroeSucc",c.className="myui-loading",this.beforeRemoteWraper=b,this.gridwrap.insertBefore(this.beforeRemoteWraper)}},d.prototype.afterRemote=function(){this.gridwrap.style.height="",this.beforeRemoteWraper.style.display="none"},d.prototype.pagerEventlistener=function(){var a=this;c("#"+this.options.element).on("click",".myui-grid-pagelist span",function(){c(this).hasClass("myui-grid-pagelist-disabled")||a.loadData.call(a,{currpagenum:c(this).attr("action")})}).on("change",".myui-grid-goto select",function(){a.pagenum=c(this).val(),a.loadData.call(a,{currpagenum:c(this).val()})}).on("change",".myui-grid-count select",function(){a.pagesize=c(this).val(),a.loadData.call(a)})},d.prototype.pagelistfit=function(a,b,c){var d=document.createElement("div"),e=[],f="",g="",h="";d.className="myui-grid-bottompanel",this.total=a,this.pagenum=a%b>0?parseInt(a/b)+1:a/b;var i=c>1?c-1:1,j=c<this.pagenum?c+1:this.pagenum;h=this.pagenum*b>a?(c-1)*b+1+" - "+c*b:(c-1)*b+1+" - "+c*b;for(var k=1;k<=this.pagenum;k++){var l="",m="";k==c?l="myui-grid-pagelist-curr myui-grid-pagelist-disabled":"",k==c?m="selected":"",f+='<span class="'+l+'" action="'+k+'">'+k+"</span>",g+="<option "+m+">"+k+"</option>"}if(this.pagenum<=7)return e=['<div class="myui-grid-bottompanel-left">','<span class="myui-grid-pagelist">','<span class="myui-grid-pagelist-disabled" action="1">&laquo;</span>','<span class="myui-grid-pagelist-disabled" action="'+i+'">&lsaquo;</span>',f,'<span class="myui-grid-pagelist-disabled" action="'+j+'">&rsaquo;</span>','<span class="myui-grid-pagelist-disabled" action="'+this.pagenum+'">&raquo;</span>',"</span>",'<span class="myui-grid-goto">','<span>转到：</span><select class="goto">'+g+"</select>","</span>",'<span class="myui-grid-count">','<span>每页：</span><select class="goto">',"<option "+(10===this.pagesize?" selected":"")+">10</option>","<option "+(20===this.pagesize?" selected":"")+">20</option>","<option "+(50===this.pagesize?" selected":"")+">50</option></select>","</span>","</div>",'<span class="myui-grid-bottompanel-right">','<span class="myui-grid-rangenum">'+h+"</span>",'<span class="myui-grid-totalnum">   总数:'+this.total+"</span>","</span>"].join(""),d.innerHTML=e,d;if(this.pagenum>7){var n='<span class="" action="1">&laquo;</span><span class="" action="'+i+'">&lsaquo;</span>',o='<span class="" action="'+j+'">&rsaquo;</span>'+'<span class="" action="'+this.pagenum+'">&raquo;</span>';if(1==c&&(n='<span class="myui-grid-pagelist-disabled" action="1">&laquo;</span><span class="myui-grid-pagelist-disabled" action="'+i+'">&lsaquo;</span>'),c==this.pagenum&&(o='<span class="myui-grid-pagelist-disabled" action="'+j+'">&rsaquo;</span>'+'<span class="myui-grid-pagelist-disabled" action="'+this.pagenum+'">&raquo;</span>'),f="",4>=c){for(var p=1;c>=p;p++){var q="";p==c?q="myui-grid-pagelist-curr myui-grid-pagelist-disabled":"",f+='<span class=" '+q+'" action="'+p+'">'+p+"</span>"}f+='<span class="" action="'+p+'">'+p+"</span>"+'<span class="myui-grid-pagelist-space">...</span>'+'<span class="" action="'+j+'">'+(this.pagenum-1)+"</span>"+'<span class="" action="'+this.pagenum+'">'+this.pagenum+"</span>"}else if(c>=this.pagenum-4){f+='<span class="" action="1">1</span><span class="" action="2">2</span><span class="myui-grid-pagelist-space">...</span>';var p=c;for(f+='<span class=" " action="'+(k-1)+'">'+(p-1)+"</span>";p<=this.pagenum;p++){var q="";p==c?q="myui-grid-pagelist-curr myui-grid-pagelist-disabled":"",f+='<span class="'+q+'" action="'+p+'">'+p+"</span>"}}else c>4&&c<this.pagenum-4&&(f+='<span class="" action="1">1</span><span class="" action="2">2</span><span class="myui-grid-pagelist-space">...</span><span class="" action="'+(c-1)+'">'+(c-1)+"</span>"+'<span class=" myui-grid-pagelist-curr myui-grid-pagelist-disabled" action="'+c+'">'+c+"</span>"+'<span class="" action="'+(c+1)+'">'+(c+1)+"</span>"+'<span class="myui-grid-pagelist-space">...</span>'+'<span class="" action="'+(this.pagenum-1)+'">'+(this.pagenum-1)+"</span>"+'<span class="" action="'+this.pagenum+'">'+this.pagenum+"</span>");return e=['<div class="myui-grid-bottompanel-left">','<span class="myui-grid-pagelist">',n,f,o,"</span>",'<span class="myui-grid-goto">','<span>转到：</span><select class="goto">',g,"</select>","</span>",'<span class="myui-grid-count">','<span>每页：</span><select class="goto">',"<option "+(10===this.pagesize?" selected":"")+">10</option>","<option "+(20===this.pagesize?" selected":"")+">20</option>","<option "+(50===this.pagesize?" selected":"")+">50</option></select>","</span>","</div>",'<span class="myui-grid-bottompanel-right">','<span class="myui-grid-rangenum">',h,"</span>",'<span class="myui-grid-totalnum">   总数:',this.total,"</span>","</span>"].join(""),d.innerHTML=e,d}},b.grid=d}),define("totopbutton/js/totopbutton",["../lib/jquery-1.10.1.min.js","../lib/util.js"],function(a,b,c){var d=(a("../lib/jquery-1.10.1.min.js"),a("../lib/util.js")),e=window,f=e.document,g=function(){var a=f.createElement("a");a.className="myui-totop",a.setAttribute("id","myui-totop"),a.appendChild(f.createTextNode("top")),_isIE6scroll=!1;var b="";if(f.getElementById("myui-totop")||(f.body.appendChild(a),b=f.getElementById("myui-totop")),d.isIE6()){var c=f.documentElement;a.style.position="absolute",a.style.top=c.clientHeight-50+"px",e.onscroll=function(){var b=f.body.scrollTop+f.documentElement.scrollTop;_clientHeight=c.clientHeight,a.style.top=_clientHeight+b-50+"px",a.style.visibility=b>1?"visible":"hidden"},window.onresize=function(){var b=f.body.scrollTop+f.documentElement.scrollTop;_clientHeight=c.clientHeight,a.style.top=_clientHeight+b-50+"px"}}else a.style.position="fixed",a.style.bottom="50px",e.onscroll=function(){var b=f.body.scrollTop+f.documentElement.scrollTop;a.style.visibility=b>10?"visible":"hidden"};b.onclick=function(a){var b=setInterval(function(){var a=f.body.scrollTop+f.documentElement.scrollTop;e.scrollTo(0,a-100),0>=a&&clearInterval(b)},5);d.stopPropagation(a)}};c.exports=g});